---
title: 
aliases: 
draft: true
tags:
---
# کدها

```
npx quartz build --serve
```

```
npx quartz sync
```

```
<br/> <br/>
```




# راهنمای سفارشی سازی

## استایل ها

### کالوت ها
رنگشون رو تغییر دادم.
برای بخش کامنت و نوشته های مرتبط هم یه کالوت اختصاص جدید اضافه کردم که آیکون متفاوت دارند.
[callouts.scss](C:\mysite\quartz\quartz\styles\callouts.scss)
### اندازه فونت
[custom.scss](C:\mysite\quartz\quartz\styles\custom.scss)
افزایش فونت متن بدنه و هدینگ های 2 و 3.
```
p {
  line-height: 2rem;
  font-size: 1.1em;
}
```

### بک لینک و فهرست
بورد، بولت پوینت، کاهش سایز فونت، اضافه کردن بک گراند خاکستری

[custom.scss](C:\mysite\quartz\quartz\styles\custom.scss)

```
.backlinks>ul {
 }

.toc {
}
```

انتهای بک لینک و فهرست یه گرادینت سفید بودن اون رو با این کد مخفی کردم:
```
ul.overflow:after,ol.overflow:after {
    display: none;
}
```


### بلوک کد
[custom.scss](C:\mysite\quartz\quartz\styles\custom.scss)
تغییر رنگ بک گراند به لایت گری و رنگ بوردر به گری
```
pre {
  border: 1px solid var(--gray);
  background: var(--lightgray);
```

گذاشتن overflow-x روی auto.
```
  pre > code {
      overflow-x: auto;
```

### تغییر کلمه home به خانه در مسیر سایت
[Breadcrumbs.tsx](C:\mysite\quartz\quartz\components\Breadcrumbs.tsx)

### فارسی سازی نتیجه جستجو
اگر جتسجو موفق نباشه متنی که نمایش میده انگلیسه. فارسی اش کردم.
قبلا این بود: No results. Try another search term?
[search.inline.ts](C:\mysite\quartz\quartz\components\scripts\search.inline.ts)

### جستجو
چون پدینگ سایبار سمت چپ رو کم کردم کادر جتسجو کوچیک شد. حداکثر اندازه رو برداشتم که خودش با مقداری که هست مطابقت داشته باشه.
[custom.scss](C:\mysite\quartz\quartz\styles\custom.scss)

```
.search {
    max-width: none;
}
```

### اصلاح متن فوتر

#### اولین اصلاحیه
برداشتن متن ورژن از کلمه ساخته شده با کوارتز
تغییر ترتیب: اول لینک بعد کوراتز بعد کپی رایت
اضافه کردن فاصله بین پاراگراف لینک و ساخته شده

[Footer.tsx](C:\mysite\quartz\quartz\components\Footer.tsx)

```
      <footer class={`${displayClass ?? ""}`}>
        <hr />
        <ul>
          {Object.entries(links).map(([text, link]) => (
            <li>
              <a href={link}>{text}</a>
            </li>
          ))}
        </ul>
        <p>          
          {i18n(cfg.locale).components.footer.createdWith}{" "}
          <a href="https://quartz.jzhao.xyz/">کوارتز</a>
        </p>
        <p> 
          © {year}        
        </p>
      </footer>
```

#### دومین اصلاحیه
حذف کردن لینک ها، اضافه کردن دستی لینک ها به همراه آیکون(دیگه برای ویرایش یا اضافه کردن لینک نباید سراغ فایل کوارتز لایوت برم چون از اینجا حذفش کردم اونجا جواب نمیده باید همینجا دستی وارد کنم.) ترتیب ها و تغییرات قبلی رو دست نزدم فقط کد لینک های قبلی رو حذف کردم کد جدید رو اضافه کردم.

#### تغییر استایل:
وسط چین کردن پاراگراف ساخته شده
وسط چین کردن لینک ها با اضافه کردن `justify-content: center`
[custom.scss](C:\mysite\quartz\quartz\styles\custom.scss)

### صفحه 404
افزودن لینک بازگشت به صفحه اصلی
[404.tsx](C:\mysite\quartz\quartz\components\pages\404.tsx)

```
      <p>بازگشت به <a href="/">صفحه اصلی</a></p>
```

### مخفی کردن تایتل از صفحه ایندکس
اضافه کردن کد به این فایل
[ArticleTitle.tsx](C:\mysite\quartz\quartz\components\ArticleTitle.tsx)
سطر 6
```
  if (fileData.slug === "index") {
    return <></>
  }
```

### مخفی کردن متاداده از صفحه ایندکس
اضافه کردن کد به این فایل
[ContentMeta.tsx](C:\mysite\quartz\quartz\components\ContentMeta.tsx)
سطر 29
```
if (fileData.slug === "index") {
  return <></>
}
```

### بلوک نقل قول
افزودن بک گراند و بوردر ردیوس.
[custom.scss](C:\mysite\quartz\quartz\styles\custom.scss)

```
.blockquote {
    background-color: #5960cf0a;
    padding: 15px;
    border-radius: 10px;
}
```



### اضافه کردن کامنت

#### استفاده از Disqus
کد جاوا اسکریپت دیسکاس رو گذاشتم انتهای هر پست. توی تگ فوتر تست کردم ارور داد به خاطر همین مجبورم دستی زیر هر پست اضافه کنم.
برای تفکیکش هم یه کالوت جدید به اسم کامنت ساختم و از این کالوت استفاده کردم.
مسیریابی SPA رو غیر فعال کردم. توی حالت پیشفرض صفحات کامل لود نمیشه و برای اینکه کامنت ها نمایش داده بشه باید صفحه رو رفرش کرد. برای اینکه کاربر مجبور نباشه صفحه رو رفرش کنه این رو غیرفعال کردم. 
توضیحات بیشتر: [آیشیو گیت هاب](https://github.com/jackyzha0/quartz/issues/1103)، [داکیومنت کوارتز](https://quartz.jzhao.xyz/features/SPA-Routing)

> [!comments] دیدگاه‌ها
> <div id="disqus_thread"></div>
> <script> (function() { 	var d = document, s = d.createElement('script'); s.src = 'https://ifardmim.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script>
> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

#### مهاجرت به Giscus
به این مهاجرت کردم چون:
- با کوارتز بهینه تره و لازم نیست از داده ها رو روی یه پلتفرم دیگه ذخیره کنم. روی گیتهاب ذخیره میشه. با تم روشن و تیره هم کاملا همخوانی داره و اتوماتیک تبدیل میشه.
- بدون مشکل لود میشه و لازم نیست که مسیریابی SPA رو غیر فعال کنم. برای دیسکاس مجبور شدم غیر فعال کنم که سرعت سایت رو کاهش داده بود. حتی لینک هدینگ های داخل متن هم با تاخییر اجرا می شدند و عملا فهرست مطالب دیگه به درد نمیخورد.

اما فعلا این مشکلات رو داره:
- پیش فرض برای همه صفحات فعاله و نمیشه به صورت سفارشی برای صفحه های خاص فعالش کرد یا برای بعضی صفحه ها غیر فعالش کرد. فقط میشه توی کد ها تنظیم کرد که برای فلان اسلاگ نمایش نده.
- کاربر ناشناس بدون داشتن حساب گیت هاب نمیتونه کامنت بذاره.
- فونت فارسی سایت روش اعمال نمیشه.



### اضافه کردن آیکون به pageTitle
یه آیکون جوانه به تایتل سایت اضافه کردم. خط 11
[PageTitle.tsx](C:\mysite\quartz\quartz\components\PageTitle.tsx)
**آپدیت:** چون روش قبلی فونت آیکون با مسیر یابی SPA همخوانی نداشت کد svg رو مستقیم وارد کردم. کد رو هم دادم به چت جی پی تی که بهینه اش کنه. چون کد به طور عادی ارور میده. در واقع از اونجایی که علامت تعجب شروع میشه رو باید حذف کرد.
مقادیر fill="currentColor" و height="em1" و width="em1" رو هم اضافه کردم که هم سایزش بزرگ نباشه هم رنگش اوکی بشه. برای هم راستا شدن از وسط هم این رو اضافه کردم: style="vertical-align: middle;"

### دیاگرام
- دایرکشن رو گذاشتم روی rtl. چون معمولا از متن فارسی استفاده میکنم راستچین باشه بهتره.
- برای اینکه متن فارسی خوانا تر بشه فونتش رو گذاشتم روی بادی فونت.
- چون بگ کراند code رو گذاشته بودم رو خاکستری اینم خاکستری شده بود. اوپسیتی اش رو کم کردم که دیاگرام بهتر دیده بشه.
- اون آیکون کپی در کلیپ بورد هم مخفی کردم که ظاهرش بهتر بشه (اینطوری کاربر فکر میکنه یه تصویره نه یه کد)
[custom.scss](C:\mysite\quartz\quartz\styles\custom.scss)

```
.mermaid {
    direction: rtl !important;

}

pre:has(>code.mermaid) {
    background-color: rgba(255, 255, 255, 0);

}

.nodeLabel {
    font-family: var(--bodyFont);
}

pre:has(>code.mermaid) .clipboard-button {
    display: none;
}

```

### سایبار سمت چپ
پدینگ چپ سایدبار سمت چپ رو از 64 گذاشتم روی 45 تا فهرست مطالب جای بیشتری داشته باشه تایتل ها توی چند خط نیفتن. (روش حرفه ای تر رو نتونستم انجام بدم باید کل اندازه سایبار سمت چپ رو افزایش بدم تا الاین هم به مشکلی نخوره. الان فضای خالی سمت راست بیشتر از سمت چپ میشه البته خیلی به چشم نمیاد کلا 20 پیکسله ولی خب روش حرفه ای نیست دیگه)
[custom.scss](C:\mysite\quartz\quartz\styles\custom.scss)
```
.page>#quartz-body .sidebar.left {
    padding-left: 45px;
}
```





# تست کالوت ها
> [!quote] 

> [!links]-
> جدید

> [!comments]-
> جدید

<br/> <br/>

> [!file]-
> جدید

> [!example] 

<br/> <br/>

> [!info] 

> [!NOTE]
> 

<br/> <br/>

> [!todo] 

> [!tip] 
> 

> [!success]

<br/> <br/>

> [!warning] 

> [!abstract] 
> 

> [!question]

> [!ideas]

<br/> <br/>

> [!failure]

> [!danger] 

> [!bug] 











